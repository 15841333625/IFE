<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ife js number</title>
</head>

<body>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div>
        <button id="judgeIsNum">判断当前选中的输入框输入内容是否为数字</button>
        <button id="changeToFloat">把 A 四舍五入为 B 个小数位数的数字</button>
        <button id="abValue">当前选中数字的绝对值</button>
        <button id="ceil">对当前选中的数字进行上舍入</button>
        <button id="floor">对当前选中的数字进行下舍入</button>
        <button id="round">把当前选中的数字四舍五入为最接近的整数</button>
        <button id="max">返回 A 和 B 中的最高值</button>
        <button id="min">返回 A 和 B 中的最低值</button>        
    </div>
    <p id="result"></p>
    
    <script>
        function show(divName, text) {
            var result = document.getElementById(divName);
            result.innerText = text;
        }
        // 判断是否为数字，isNaN() 会将 "" 等按照0处理
        function isNumber(x) {
            // parseFloat() 如果不是数字会返回NaN
            if(isNaN(parseFloat(x))) 
                return false;
            else
                return true;
        }
        // 返回当前选中框的内容
        function inputNum(divName) {
            var math_obj = document.getElementsByName(divName);
            for(var i = 0; i < math_obj.length; i ++) {
                if(math_obj[i].checked == true) {
                    var va = math_obj[i].value;
                    return document.getElementById("num-" + va).value;
                }
            }
        }
        // 判断当前选中的输入框输入内容是否为数字
        document.getElementById("judgeIsNum").addEventListener('click', function() {
            var text = inputNum("math-obj");
            if(isNumber(text))
                show("result", "是");
            else 
                show("result", "否");
        });
        // 把 A 四舍五入为 B 个小数位数的数字
        document.getElementById("changeToFloat").addEventListener('click', function() {
            var sa = document.getElementById("num-a").value;
            var sb = document.getElementById("num-b").value;
            
            if(isNumber(sa) && isNumber(sb)) {
                // 获得b的位数
                var b_bits = sb.split('.')[1].length;
                var na = parseFloat(sa);
                var ca = na.toFixed(b_bits);
                show("result", ca);
            } else 
                console.log("请输入数字！");
        });
        // 当前选中数字的绝对值
        document.getElementById("abValue").addEventListener('click', function() {
            var inNum = inputNum("math-obj");

            if(isNumber(inNum)) {
                show("result", Math.abs(parseFloat(inNum)));
            } else 
                console.log("请输入数字！");
        });
        // 对当前选中的数字进行上舍入
        document.getElementById("ceil").addEventListener('click', function() {
            var inNum = inputNum("math-obj");

            if(isNumber(inNum)) {
                show("result", Math.ceil(parseFloat(inNum)));
            } else 
                console.log("请输入数字！");
        });
        // 对当前选中的数字进行下舍入
        document.getElementById("floor").addEventListener('click', function() {
            var inNum = inputNum("math-obj");

            if(isNumber(inNum)) {
                show("result", Math.floor(parseFloat(inNum)));
            } else 
                console.log("请输入数字！"); 
        });
        // 把当前选中的数字四舍五入为最接近的整数
        document.getElementById("round").addEventListener('click', function() {
            var inNum = inputNum("math-obj");

            if(isNumber(inNum)) {
                show("result", Math.round(parseFloat(inNum)));
            } else 
                console.log("请输入数字！"); 
        });
        // 返回 A 和 B 中的最高值
        document.getElementById("max").addEventListener('click', function() {
            var sa = document.getElementById("num-a").value;
            var sb = document.getElementById("num-b").value;
            
            if(isNumber(sa) && isNumber(sb)) {
                var na = parseFloat(sa);
                var nb = parseFloat(sb);
                
                show("result", na > nb ? na : nb);
            } else 
                console.log("请输入数字！");
        });
        // 返回 A 和 B 中的最低值
        document.getElementById("min").addEventListener('click', function() {
            var sa = document.getElementById("num-a").value;
            var sb = document.getElementById("num-b").value;
            
            if(isNumber(sa) && isNumber(sb)) {
                var na = parseFloat(sa);
                var nb = parseFloat(sb);
                
                show("result", na < nb ? na : nb);
            } else 
                console.log("请输入数字！");
        });
    </script>
</body>
</html>
